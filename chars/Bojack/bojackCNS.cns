; Bojack's constants and state file.
;==========================================================================
;[Variables]
;0 = N/A
;1 = Nothing
;3 = Flight Movement
;10 = Power Up.Decrease BG Brightness
;11 = Power Up.Increase BG Brightness
;12 = Hyper. Increase BG Brightness
;13 = Hyper. Y-Velocity
;14 = Fireball.Chain
;15 = RockHelper.Position
;16 = RockHelper.Animation
;17 = Ki Shield Degnerator
;20 = In Flight
;21 = Flight Detection
;29 = Damage Dampener
;30 = AI


[Data]
life = 1500
attack = 180
defence = 150
power = 3000
fall.defence_up = 90
liedown.time = 60
airjuggle = 10
sparkno = 2
guard.sparkno = 40
KO.echo = 1
KO.volume = 0
volume = 0

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 16     ;Player width (back, ground)
ground.front = 17    ;Player width (front, ground)
air.back = 14        ;Player width (back, air)
air.front = 14       ;Player width (front, air)
height = 70	     ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = -5, -60   ;Approximate position of head
mid.pos = -5, -35    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.45          ;Walk forward
walk.back = -1.45         ;Walk backward
run.fwd  = 5.4, 0         ;Run forward (x, y)
run.back = -4.2, 0        ;Run backward (x, y)
jump.neu = 0,-8.4         ;Neutral jumping velocity (x, y)
jump.back = -2.5          ;Jump back Speed (x, y)
jump.fwd = 2.55           ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .46          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?            S/C/A/L  stand/crouch/air/liedown
; movetype = ?        I/A/H    idle/attack/gethit
; physics = ?         S/C/A/N  stand/crouch/air/none
; juggle = ?          air juggle points move requires
;
; [State STATENO, ?]  ? - any number you choose
; type = ?   

;---------------------------------------------------------------------------
; Lose by Time Over
;-=Time's Up? Haha!=-
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 171, 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;-=Strife Says: Don't worry about this...you'll never win anyway =p...=-
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
;triggerall = Life >= 750
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
;-=What's this?=-
; Win pose 1 - Stand
[Statedef 181]
type = S
ctrl = 0
velset = 0,0

[State 181, anim]
type = ChangeAnim
trigger1 = time = 0
value = 181

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
velset = 0,0
anim = 191

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, Voice]
type = PlaySnd
trigger1 = Time = 77
value = 1, 0

[State 191, Dust1]
type = Explod
trigger1 = time = 110
Anim = 15000
Pos = -90, 0
Id = 15000
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 191, Dust2]
type = Explod
trigger1 = time = 110
Anim = 15001
Pos = 74, 0
Id = 15001
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 191, Shake]
type = EnvShake
trigger1 = time = 110
Time = 18

[State 191, RumbleSND]
type = PlaySnd
trigger1 = Time = 110
value = 1701,0

[State 191, AuraSND]
type = PlaySnd
trigger1 = Time = 110
value = 1702,0

[State 191, 3] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
anim = 195

[State 195, CtrlSet]
type = CtrlSet
trigger1 = Time >= 99
value = 1

[State 195, LifeAdd]
type = LifeAdd
trigger1 = TimeMod = 4,0
value = 1

[State 195, PowerAdd]
type = PowerAdd
trigger1 = Time >= 0 
value = 1

[State 195, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 195, 0

[State 195, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 0                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)
anim = 200

[State 200, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 200, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 200, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 25
guardflag = MA
pausetime = 10,12
sparkno = S11000
sparkxy = -25,-85
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 65
ctrl = 0
velset = 1,0
sprpriority = -1
anim = 210

[State 210, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 210, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 240, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 12,14
sparkno = S11010
sparkxy = -25,-83
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 17
ground.velocity = -4
air.velocity = -4,-2

[State 210, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Fierce Punch
; CNS difficulty: easy
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 1,0     
ctrl = 0  
poweradd = 20
sprpriority = 2
anim = 220

[State 220, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 220, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 40
guardflag = MA
pausetime = 14,16
sparkno = S11020
sparkxy = -23,-83
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 19
ground.velocity = -12, 0
air.velocity = -9,-3.2
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 220, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 220, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Hook
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 75
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 225

[State 225, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 225, Sound]
type = PlaySnd
triggerall = random >= 500
trigger1 = Time = 1
value = 1, 0

[State 225, VelSet]
type = Velset
trigger1 = time >= 0 && time <= 8
x = 5.0
y = 0

[State 225, VelAdd]
type = Veladd
trigger1 = vel x > 0 && time = [1,10]
x = -0.5
y = 0

[State 225, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0

[State 225, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 45
guardflag = MA
pausetime = 16,16
sparkno = S11020
sparkxy = -10,-90
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8
air.velocity = -8,-2

[State 225, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 36
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 230

[State 230, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 230, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 230, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 35
guardflag = MA
pausetime = 13,15
sparkno = S11010
sparkxy = -20,-58
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 230, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing medium kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 55
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 240

[State 240, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 240, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 205, 0

[State 240, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 45
guardflag = MA
pausetime = 16,18
sparkno = S11020
sparkxy = -30,-90
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 75
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 250

[State 250, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 250, Sound]
type = PlaySnd
trigger1 = time = 1
value = 205, 0

[State 250, Sound]
type = PlaySnd
triggerall = random >= 500
trigger1 = Time = 1
value = 1, 0

[State 41, KickDust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 7
Anim = 15001
Pos = 70, 0;80, 0
Id = 15001
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
velocity = 1

[State 250, Hitdef1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 60,10
guardflag = MA
pausetime = 16,22
sparkno = S11020
sparkxy = -30,-90
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -13, 0
air.velocity = -10,-2.5
air.fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 250, Shake]
type = null;EnvShake
trigger1 = time = 7
Time = 18

[State 250, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Reverse Kick Part 1
[Statedef 300]
type    = s
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
anim = 300

[State 300, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

;[State 300, Teleport]
;type = Posadd
;trigger1 = animelem = 3
;x = 295
;y = -178

[State 300, Teleport]
type = Posadd
trigger1 = animelem = 3
x = p2bodydist X + 145
y = p2bodydist Y - 155

[State 300, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 300, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 304
removetime = 30
velocity = 0
offset = 0

[State 300, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 304
removetime = 25
velocity = -1
offset = 0

[State 300, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 304
removetime = 25
velocity = 1
offset = 0

[State 300, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 300, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H
movecamera = 0,0
value	= 0

[State 300, Next]
type = ChangeState
Trigger1 = AnimTime = 0
value = 301
ctrl = 1

;----------------------------------------------------------------------------------------
;Zanzoken Reverse Kick Part 2
[Statedef 301]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 301

[State 301, Hitdef]
type = HitDef
trigger1 = animelem = 4
attr = S, SA
animtype  = Hard
damage    = 65
hitflag = MAFD
guardflag = MA
pausetime = 10,10
sparkno = S11020
sparkxy = -30,90
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 3, 13.5
air.velocity = 3,13.5
fall = 1

[State 301, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H
movecamera = 0,0
value	= 0

[State 301, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 302
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Reverse Kick Part 3
[Statedef 302]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
anim = 302

[State 302, TeleportStand]
type = PosSet
Trigger1 = AnimElem = 3 && Var(21) = 0
y = 0

[State 302, TeleportFlight]
type = PosAdd
Trigger1 = AnimElem = 3 && Var(21) = 1
y = 168

[State 302, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 302, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 305
removetime = 30
velocity = 0
offset = 0

[State 302, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 305
removetime = 25
velocity = -1
offset = 0

[State 302, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 305
removetime = 25
velocity = 1
offset = 0

[State 302, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 302, Next]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Punch to Jump Power Kick Part 1
; CNS difficulty: easy
[Statedef 310]
type    = C
movetype= A
physics = C
juggle  = 0
poweradd= 35
ctrl = 0
sprpriority = 2
anim = 310

[State 300, Teleport]
type = Posadd
trigger1 = animelem = 3
x = p2bodydist X + 30
y = p2bodydist Y - 70

[State 310, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 315
removetime = 30
velocity = 0
offset = 0

[State 310, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 315
removetime = 25
velocity = -1
offset = 0

[State 310, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 315
removetime = 25
velocity = 1
offset = 0

[State 310, PlaySND]
type = PlaySnd
Trigger1 = time = 3
value = 2900,0

[State 310, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 311
ctrl = 1
;---------------------------------------------------------------------------
;Punch to Jump Power Kick Part 2
; CNS difficulty: easy
[Statedef 311]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 501

[State 311, Pull]
type = VelAdd
trigger1 = time >= 4
y = 1
x = 1.5

[State 311, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 311, 2]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 45
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S11020
sparkxy = -23,-2
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -3,3
fall = 1
fall.recover = 0

[State 311, Next]
type = ChangeState
trigger1 = movecontact
value = 312
ctrl = 1

[State 311, End]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52
;---------------------------------------------------------------------------
; Punch to Jump Power Kick After Hit
[Statedef 312]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
anim = 502

[State 312, 1]
type = velset
trigger1 = time >= 0
x = -3
y = -1.5

[State 312, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 313
ctrl = 0
;---------------------------------------------------------------------------
; Punch to Jump Power Kick Final
[Statedef 313]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
anim = 503

[State 313, 1]
type = velset
trigger1 = time >= 0
x = -2

[State 313, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 35
ctrl = 0
sprpriority = 2
anim = 400

[State 400, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 400, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = S11000
sparkxy = -23,-50
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3

[State 400, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching strong punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 45
ctrl = 0
sprpriority = 2
anim = 410

[State 410, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 410, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = S11010
sparkxy = -20,-48
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3

[State 410, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 35
ctrl = 0
sprpriority = 2
anim = 430

[State 430, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 430, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 32
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S11010
sparkxy = -30,-5
hitsound   = S300,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching strong kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 45
ctrl = 0
sprpriority = 2
anim = 440

[State 440, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 440, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 38
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = S11020
sparkxy = -22,-25
hitsound   = S300,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -7
air.velocity = -3,-4
down.velocity = -5,0
down.hittime = 20

[State 440, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Slide kick
; CNS difficulty: easy
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 55
ctrl = 0
sprpriority = 2
anim = 430

[State 450, VelSet1]
type = Velset
trigger1 = time = [5,8]
x = 3.0
y = 0

[State 450, VelSet2]
type = Velset
trigger1 = time = [9,10]
x = 2.0
y = 0

[State 450, VelSet3]
type = Velset
trigger1 = time = [11,12]
x = 1.0
y = 0

[State 450, VelSet4]
type = Velset
trigger1 = time >= 13
x = 0.0
y = 0

[State 450, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 450, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 35
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S11010
sparkxy = -30,-5
hitsound   = S300,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 450, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouch to Jump Power Kick Part 1
; CNS difficulty: easy
[Statedef 500]
type    = C
movetype= A
physics = C
juggle  = 0
poweradd= 35
ctrl = 0
sprpriority = 2
anim = 500

[State 500, PosAdd]
type = PosAdd
trigger1 = time = 4
x = -10.0
y = -60.0

[State 500, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 505
removetime = 30
velocity = 0
offset = 0

[State 500, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 505
removetime = 25
velocity = -1
offset = 0

[State 500, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 505
removetime = 25
velocity = 1
offset = 0

[State 500, PlaySND]
type = PlaySnd
Trigger1 = time = 3
value = 2900,0

[State 500, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 501
ctrl = 1
;---------------------------------------------------------------------------
;Crouch to Jump Power Kick Part 2
; CNS difficulty: easy
[Statedef 501]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 501

[State 1200, Pull]
type = VelAdd
trigger1 = time >= 4
y = 1
x = 1.5

[State 501, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 501, 2]
type = HitDef
trigger1 = Time = 0
attr = A, SA
damage = 45
hitflag = MAFD
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S11020
sparkxy = -23,-2
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -3,3
fall = 1
fall.recover = 0

[State 501, Next]
type = ChangeState
trigger1 = movecontact
value = 502
ctrl = 1

[State 501, End]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52
;---------------------------------------------------------------------------
; Crouch to Jump Power Kick After Hit
[Statedef 502]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
anim = 502

[State 502, 1]
type = velset
trigger1 = time >= 0
x = -3
y = -1.5

[State 502, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 503
ctrl = 0
;---------------------------------------------------------------------------
; Crouch to Jump Power Kick Final
[Statedef 503]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
anim = 503

[State 1203, 1]
type = velset
trigger1 = time >= 0
x = -2

[State 1204, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 25
ctrl = 0
sprpriority = 2
anim = 600

[State 600, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 600, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 30
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S11000
sparkxy = -25,-57
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, Control]
type = CtrlSet
trigger1 = Time = 17
value = 1
;---------------------------------------------------------------------------
;Jump strong Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 25
ctrl = 0
sprpriority = 2
anim = 610

[State 610, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 610, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 30
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S11010
sparkxy = -27,-57
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, Control]
type = CtrlSet
trigger1 = Time = 17
value = 1

;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 630

[State 630, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 45
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S11010
sparkxy = -23,-2
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -3,3
;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 640

[State 640, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 640, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 58
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S11020
sparkxy = -25,-25
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -9
air.velocity = -8
fall = 1

;---------------------------------------------------------------------------
;Weak Fireball 1
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1000

[State 1000, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -6

[State 1000, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1000, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1000,0

[State 1000, Ring]
type = Explod
trigger1 = time = 5
Anim = 12010
Pos = 44, -88
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1000, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 12111         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 12110
projscale = 0.9, 0.9
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 45, -84       
velocity = 14, 0
remvelocity = .7, 0  
accel = -0.02, 0.05     
attr = S, SP
damage    = 23,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -5.5      
air.type = Low
air.velocity = -4.5,-2.5
air.juggle = 3

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(14) = 0 && time > 1)
trigger1 = (command = "x" || command = "y") || Var(39) = 1
v = 14
value = 1 

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 12 && Var(14) = 1 && power > 0
value = 1001
ctrl = 1

[State 1000, End]
type = ChangeState
trigger1 = AnimTime = 0 && (Var(14) = 0 || power = 0)
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 2
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1001

[State 1001, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -13

[State 1001, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1000,0

[State 1001, Ring]
type = Explod
trigger1 = time = 1
Anim = 12010
Pos = 44, -88
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1001, Projectile]
type = Projectile
trigger1 = Time = 1
ProjAnim = 12111         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 12110
projscale = 0.9, 0.9
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 45, -84       
velocity = 14, 2.4
remvelocity = .7, 0  
accel = -0.02, -0.085     
attr = S, SP
damage    = 23,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -5.5      
air.type = Low
air.velocity = -4.5,-2.5
air.juggle = 3

[State 1001, VarSet]
type = VarSet
triggerall = (Var(14) = 1 && time > 1)
trigger1 = (command = "x" || command = "y") || Var(39) = 1
v = 14
value = 2 

[State 1001, Next]
type = ChangeState
trigger1 = animtime = 0 && Var(14) = 2 && power > 0
value = 1002
ctrl = 1

[State 1000, End]
type = ChangeState
trigger1 = AnimTime = 0 && (Var(14) = 1 || power = 0)
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 3
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1001

[State 1002, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -13

[State 1002, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1002, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1000,0

[State 1002, Ring]
type = Explod
trigger1 = time = 1
Anim = 12010
Pos = 44, -88
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1002, Projectile]
type = Projectile
trigger1 = Time = 1
ProjAnim = 12111         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 12110
projscale = 0.9, 0.9
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 45, -84       
velocity = 14, -1.0
remvelocity = .7, 0  
accel = -0.02, 0.06     
attr = S, SP
damage    = 23,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -5.5      
air.type = Low
air.velocity = -4.5,-2.5
air.juggle = 3

[State 1002, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball End
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1003

[State 1003, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Finger Ki Beam(Frickin' Laser Beam)
[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1100

[State 1000, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -10

[State 1100, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1000,0

[State 1100, Laser.Helper]
type = Helper
trigger1 = Time = 2
name = "Laser"
stateno = 12210
postype = p1
pos = 54, -88
keyctrl = 0
ownpal = 1
id = 12210

[State 1100, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1100, End]
type = ChangeState
trigger1 = animTime = 0
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
;Tri-Finger Ki Beam(As opposed to Tien's Tri-Beam)
[Statedef 1130]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1100

[State 1130, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -20

[State 1130, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1000,0

[State 1130, Laser.Helper-Main]
type = Helper
trigger1 = Time = 2
name = "Laser1"
stateno = 12230
postype = p1
pos = 54, -88
keyctrl = 0
ownpal = 1
id = 12230

[State 1130, Laser.Helper-Top]
type = Helper
trigger1 = Time = 2
name = "Laser2"
stateno = 12231
postype = p1
pos = 54, -88
keyctrl = 0
ownpal = 1
id = 12231

[State 1130, Laser.Helper-Bot]
type = Helper
trigger1 = Time = 2
name = "Laser3"
stateno = 12232
postype = p1
pos = 54, -88
keyctrl = 0
ownpal = 1
id = 12232

[State 1130, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1130, End]
type = ChangeState
trigger1 = animTime = 0
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
; Dashing Hook(Lariat)
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 75
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 225
juggle = 5

[State 225, VelSet]
type = Velset
trigger1 = time >= 0 && time <= 8
x = 5.0
y = 0

[State 225, VelAdd]
type = Veladd
trigger1 = vel x > 0 && time = [1,10]
x = -0.5
y = 0

[State 1300, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0

[State 1300, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 65
guardflag = MA
pausetime = 10,10
sparkno = S8001
sparkxy = -10,-49
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -11,-5
air.velocity = -11,-5
fall = 1
p2stateno = 95000

[State 1300, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Ki Shield
[Statedef 1600]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 1600

[State 1600, PowerAdd]
type = PowerAdd
trigger1 = time >= 0
value = -5

[State 1600, PlayerPush]
type = PlayerPush
trigger1 = time > 6
value = 0

[State 1600, NoHit]
type = NotHitBy
trigger1 = time > 6
value = SCA
time = 1

[State 1600, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1600, PlaySND]
type = PlaySnd
trigger1 = Time = 7
value = 1600, 0

[State 41, Dust1]
type = Explod
trigger1 = time = 7
Anim = 15000
Pos = -96, 0
Id = 15000
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 41, Dust2]
type = Explod
trigger1 = time = 7
Anim = 15001
Pos = 80, 0
Id = 15001
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1600, Shield.Helper]
type = Helper
trigger1 = Time = 7
name = "Shield"
stateno = 10100
postype = p1
pos = -8, 24
keyctrl = 0
ownpal = 1
id = 10100
size.xscale = 1
size.yscale = 1

[State 1600, HyperChain]
type = VarSet
trigger1 = (command = "KiBlast") || (command = "KiBeam")
v = 29
value = 1

[State 1600, End]
type = ChangeState
trigger1 = (numhelper(10100) = 0 && time >= 8)
value = 1601
ctrl = 1
;-------------------------------------------------------------------------
; Ki Shield End
[Statedef 1601]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 1601

[State 1601, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Counter Ki Shield
[Statedef 1605]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 1605

[State 1605, PowerAdd]
type = PowerAdd
trigger1 = time >= 0
value = -10

[State 1605, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 1605, NoHit]
type = NotHitBy
trigger1 = time > 0
value = SCA
time = 1

[State 1605, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1605, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 1600, 0

[State 41, Dust1]
type = Explod
trigger1 = time = 1
Anim = 15000
Pos = -96, 0
Id = 15000
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal =1

[State 41, Dust2]
type = Explod
trigger1 = time = 1
Anim = 15001
Pos = 80, 0
Id = 15001
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal =1

[State 1605, Shield.Helper]
type = Helper
trigger1 = Time = 1
name = "CounterShield"
stateno = 10100
postype = p1
pos = -8, 24
keyctrl = 0
ownpal = 1
id = 10100
size.xscale = 1
size.yscale = 1

[State 1600, HyperChain]
type = VarSet
trigger1 = (command = "KiBlast") || (command = "KiBeam")
v = 29
value = 1

[State 1600, End]
type = ChangeState
trigger1 = (numhelper(10100) = 0 && time >= 1)
value = 1601
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Start
[Statedef 1700]
type = S
physics = S
velset = 0,0
ctrl = 0

[State 1700, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 2
Anim = 10010
Pos = -11, 4
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 10
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85

[State 1700, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1700

[State 1700, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1700, Limit]
type = null;ChangeState
trigger1 = Power >= 3000
value = 0
ctrl = 1

[State 1700, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 1701
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Charging
[Statedef 1701]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1701, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1701

[State 1701, VarSet1]
type = VarSet
Triggerall = Pos Y < 0
Trigger1 = Var(2) = 2
Trigger1 = Vel Y >= 2.4
Trigger2 = Time = 0
v = 2
value = 1

[State 1701, VarSet2]
type = VarSet
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
Trigger1 = Vel Y <= -2.4
v = 2
value = 2

[State 1701, FloatUp]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
y = -0.1

[State 1701, FloatDown]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 2
y = 0.1

[State 1701, Stop.Charge]
type = VarSet
Triggerall = Pos Y < 0
trigger1 = (command != "hold_a") && (command != "hold_b")
v = 2
value = 0

[State 1701, Limit]
type = null;ChangeState
trigger1 = Power >= 3000
value = 0
ctrl = 1

[State 1701, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 1700, 0
;------------------------------------
[State 1701, RockPosition]
type = VarRandom
trigger1 = time >= 0
v = 15
range = -240,240

[State 1701, RockAnimation]
type = VarRandom
trigger1 = time >= 0
v = 16
range = 0,11

[State 1701, RumbleSND]
type = PlaySnd
triggerall = time >= 80
trigger1 = TimeMod = 24,0
value = 1701,0

[State 1701, RockHelper0]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,0
trigger1 = random <= 100 && NumHelper(15200) = 0
name = "Rock00"
stateno = 15200
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15200
size.xscale = IfElse(Random >= 500, 0.75, 1)
size.yscale = IfElse(Random >= 500, 0.75, 1)

[State 1701, RockHelper1]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,1
trigger1 = random <= 100 && NumHelper(15201) = 0
name = "Rock01"
stateno = 15201
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15201
size.xscale = IfElse(Random >= 500, 0.70, 0.95)
size.yscale = IfElse(Random >= 500, 0.70, 0.95)

[State 1701, RockHelper2]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,2
trigger1 = random <= 100 && NumHelper(15202) = 0
name = "Rock02"
stateno = 15202
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15202
size.xscale = IfElse(Random >= 500, 0.75, 0.9)
size.yscale = IfElse(Random >= 500, 0.75, 0.9)

[State 1701, RockHelper3]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,3
trigger1 = random <= 100 && NumHelper(15203) = 0
name = "Rock03"
stateno = 15200
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15203
size.xscale = IfElse(Random >= 500, 0.75, 1)
size.yscale = IfElse(Random >= 500, 0.75, 1)

[State 1701, RockHelper4]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,4
trigger1 = random <= 100 && NumHelper(15204) = 0
name = "Rock04"
stateno = 15201
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15204
size.xscale = IfElse(Random >= 500, 0.70, 0.95)
size.yscale = IfElse(Random >= 500, 0.70, 0.95)

[State 1701, RockHelper5]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,5
trigger1 = random <= 100 && NumHelper(15205) = 0
name = "Rock05"
stateno = 15202
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15205
size.xscale = IfElse(Random >= 500, 0.75, 0.90)
size.yscale = IfElse(Random >= 500, 0.75, 0.90)
;------------------------------------
[State 1701, Aura]
type = Explod
trigger1 = timemod = 12,0
Anim = 10000
Pos = -12,6
Id = 10000
sprpriority = 2
removeongethit = 1
removetime = 12
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 1701, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 12,0
Anim = 10010
Pos = -11, 4
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 12
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85

[State 1701, ElecA]
type = Explod
trigger1 = timemod = 100,0
Anim = 10020
Pos = -11,-8
Id = 10020
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1, 1

[State 1701, ElecB]
type = Explod
trigger1 = timemod = 100,20
Anim = 10021
Pos = -35,-60
Id = 10021
velocity = 0,-0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 1701, ElecC]
type = Explod
trigger1 = timemod = 100,40
Anim = 10022
Pos = -38,-70
Id = 10022
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 1701, ElecD]
type = Explod
trigger1 = timemod = 100,60
Anim = 10023
Pos = -40,-16
Id = 10023
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 1701, ElecE]
type = Explod
trigger1 = timemod = 100,80
Anim = 10024
Pos = 10,-36
Id = 10024
velocity = 0,0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 1701, AuraSND]
type = PlaySnd
trigger1 = TimeMod = 26,0
value = 1700,1

[state 1701, ColorFX]
type = PalFX
trigger1 = Time > 0
trigger1 = TimeMod = 9,0
time = 2
add = 64,64,64

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 10
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 11
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = -60
v = 11
value = 1

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = 0
v = 11
value = 0

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 0
v = 10
value = -1

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 1
v = 10
value = 1

[state 1701, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(10),Var(10),Var(10)

[State 1701, Shake]
type = EnvShake
trigger1 = time >= 100
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -2
phase = 0

[State 1701, PowerAdd]
type = PowerAdd
trigger1 = Time > 0
value = 8

[State 1701, LifeAdd]
type = LifeAdd
triggerall = power < 3000
trigger1 = TimeMod = 10,0
value = 1

[State 1701, LifeAdd]
type = LifeAdd
triggerall = power >= 3000
trigger1 = TimeMod = 7,0
value = 1

[State 1701, RemoveAura]
Type = RemoveExplod
trigger1 = stateno != 1701
ID = 9060

[State 1701, Stop.Next]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command != "hold_a" && command != "hold_b"
value = 1702
ctrl = 0
;-------------------------------------------------------------------------
; Charge Power Over
[Statedef 1702]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1702, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1702

[State 1702, RemoveAura]
Type = RemoveExplod
trigger1 = AnimElem = 1
ID = 10000

[State 1701, PlaySND]
type = PlaySnd
trigger1 = Time = 0 && power >= 3000
value = 1702,0

[State 1702, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Hyper Hand Blast of Mass Destruction!
[Statedef 1800]
type    = S
movetype= A
physics = S
poweradd= -40
ctrl = 0
velset = 0
anim = 1800

[State 1800, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 1800, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = S12300
sound = S1800,0
pos = 39,-85
darken = 0
unhittable = 1

[State 1800, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 1701, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 1800, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -16

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1800, Voice-"KiDowgTreeg!"];I have no clue WTF he's saying....
type = PlaySnd
trigger1 = time = 1
value = 3,0
volume = 255

[State 1800, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = 0

[State 1800, VarSet.UP]
type = Varset
trigger1 = time >= 54 && command = "holdup"
v = 13
value = 1

[State 1800, VarSet.DWN]
type = Varset
trigger1 = time >= 54 && command = "holddown"
v = 13
value = 2

[State 1800, End]
type = ChangeState
trigger1 = Time = 55 
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
;Hyper Hand Blast of Mass Destruction! FIRE!
[Statedef 1801]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1800

[State 1801, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1000,0

[State 1801, Ring]
type = Explod
trigger1 = time = 0
Anim = 12010
Pos = 39, -85
Id = 12010
sprpriority = 2
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85

[State 1801, KiBlast.Helper]
type = Helper
trigger1 = Time = 1
name = "KiBlast"
stateno = 12100
postype = p1
pos = 36, -85
keyctrl = 0
ownpal = 1
id = 12100

[State 1801, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1801, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1801, End]
type = ChangeState
trigger1 = Time = 60
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1
;---------------------------------------------------------------------------
;Hyper Hand Blast Chain
[Statedef 1805]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
anim = 1800

[State 1805, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = S12300
sound = S1800,0
pos = 39,-85
darken = 1
unhittable = 1

[State 1805, PowerAdd]
Type = PowerAdd
Trigger1 = time = 1
value = -1000

[State 1805, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1805, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = 0

[State 1805, VarSet.UP]
type = Varset
trigger1 = time >= 1 && command = "holdup"
v = 13
value = 1

[State 1805, VarSet.DWN]
type = Varset
trigger1 = time >= 1 && command = "holddown"
v = 13
value = 2

[State 1805, End]
type = ChangeState
trigger1 = Time = 2 
value = 1801
ctrl = 1

;---------------------------------------------------------------------------
;Hyper Ki Beam of Doom!
[Statedef 1900]
type    = S
movetype= A
physics = S
poweradd= -40
ctrl = 0
velset = 0
anim = 1900

[State 1900, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = S12300
sound = S1800,0
pos = 32,-80
darken = 0
unhittable = 1

[State 1900, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 1900, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 1900, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 1900, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -16

[State 1900, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1900, Voice-"Shiddag-its-teed!"];I have no clue WTF he's saying....
type = PlaySnd
trigger1 = time = 1
value = 4,0
volume = 255

[State 1900, End]
type = ChangeState
trigger1 = Time = 55 
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
;Hyper Ki Beam of Doom! FIRE!
[Statedef 1901]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1900

[State 1901, Sound]
type = PlaySnd
trigger1 = time = 5
value = 1000,0

[State 1901, KiBeam.Helper]
type = Helper
trigger1 = Time = 1
name = "KiBeam"
stateno = 12400
postype = p1
pos = 16, -81
keyctrl = 0
ownpal = 1
id = 12400

[State 1901, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1901, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1901, End]
type = ChangeState
trigger1 = Time = 60
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1
;---------------------------------------------------------------------------
;Hyper Ki Beam Chain
[Statedef 1905]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1900

[State 1905, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = S12300
sound = S1800,0
pos = 32,-80
darken = 1
unhittable = 1

[State 1905, PowerAdd]
Type = PowerAdd
Trigger1 = time = 1
value = -1000

[State 1905, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1905, End]
type = ChangeState
trigger1 = Time = 2 
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Start
[Statedef 2900]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -50

[State 2900, MoveFwd]
type = VelAdd
Trigger1 = 1 && P2Dist X > 0
x = 2.0
y = 0

[State 2900, MoveFwd]
type = VelAdd
Trigger1 = 1 && P2Dist X < 0
x = -1.5
y = 0

[State 2900, Normal anim]
type = ChangeAnim
triggerall = Var(1) = 0
trigger1 = time = 0
value = 2900

[State 2900, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2900, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 200,200,200

[State 2900, TeleportFwd]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
x = 400
y = 0

[State 2900, TeleportFwdUp]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holdup"
Trigger1 = command = "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holddown"
x = 400
y = -100

[State 2900, TeleportBack]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holdback"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdup"
x = -400
y = 0

[State 2900, TeleportBackUp]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holdback"
Trigger1 = command = "holdup"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holddown"
x = -400
y = -100

[State 2900, TeleportUp]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holdup"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
x = 0
y = -100

[State 2900, TeleportDown]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holddown"
x = 0
y = 100

[State 2900, TeleportDownFwd]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holddown"
Trigger1 = command = "holdfwd"
x = 400
y = 100

[State 2900, TeleportDownBack]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holddown"
Trigger1 = command != "holdback"
x = -400
y = 100

[State 2900, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 2900, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State -2, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2900, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 2902
removetime = 30
velocity = 0
offset = 0

[State 2900, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 2902
removetime = 25
velocity = -1
offset = 0

[State 2900, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 2902
removetime = 25
velocity = 1
offset = 0

[State 2900, Next]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2901
ctrl = 1

[State 2900, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2900, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

;----------------------------------------------------------------------------------------
;Zanzoken Reapear
[Statedef 2901]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -50

[State 2901, MoveBackZ0R!]
type = VelAdd
Trigger1 = 1
x = -1.5
y = 0

[State 2901, Normal anim]
type = ChangeAnim
triggerall = Var(1) = 0
trigger1 = time = 0
value = 2901

[State 2901, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2901, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Fly-Lift off
[Statedef 3000]
type = A
movetype = I
physics = A
juggle  = 7
velset = 0, -8, 0
poweradd= -25
ctrl = 0
anim = 3000

[State 3000, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 3000, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 0
volume = -200

[State 3000, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 3100
ctrl = 1

;---------------------------------------------------------------------------
;-=This is what you get after launching the U.S.A. out of a cannon...(Get It!? Flying States!)=-
;Flying States
[Statedef 3100]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 3100, FlightVarSet]
type = VarSet
trigger1 = 1
v = 20
value = 1

[State 3100, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 3100

[State 3100, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(3) = 0
trigger2 = Pos Y < -405
x = 0
y = 0

[State 3100, StillAnim]
type = ChangeAnim
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 3100
value = 3100

[State 3100, VarSet]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(3) != 2
trigger2 = var(3) = 2
trigger2 = Vel Y >= 1.4
v = 3
value = 1

[State 3100, VarSet]
type = VarSet
trigger1 = Var(3) = 1
trigger1 = Vel Y <= -1.4
trigger2 = P2BodyDist Y > 405
trigger2 = Vel Y < 0
v = 3
value = 2

[State 3100, Up Velocity]
type = VelAdd
trigger1 = Var(3) = 1
y = -0.050

[State 3100, Down Velocity]
type = VelAdd
trigger1 = Var(3) = 2
y = 0.050

[State 3100,Stop Velocity]
type = VelSet
triggerall = Var(3) != 0
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
y = 0

[State 3100,VarReset]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 3
value = 0

[State 3100, UpBorder]
type = PosSet
trigger1 = Pos Y < -405
y = -405

[State 3100, DownBordera]
type = PosAdd
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 1

[State 3100, DownBorderb]
type = VelSet
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 0

[State 3100, GoDown1]
type = VelAdd
trigger1 = (command = "holddown") || (var(39) = 1 && p2bodydist Y > -35)
y = 0.2

[State 3100,GoDown2]
type = VelSet
trigger1 = (command = "holddown" && Vel Y < 0)  || (var(39) = 1 && p2bodydist Y > -35 && Vel Y < 0)
y = 0

[State 3100, GoDownAnim]
type = ChangeAnim
trigger1 = (Anim != 3104 && command = "holddown") || (Anim != 3104 && var(39) = 1 && p2bodydist Y > -35)
value = 3104

[State 3100, GoUp1]
type = VelAdd
trigger1 = (command = "holdup") || (var(39) = 1 && p2bodydist Y < 35)
y = -0.1

[State 3100,GoUp2]
type = VelSet
trigger1 = (command = "holdup" && Vel Y > 0) || (var(39) = 1 && p2bodydist Y < 35 && Vel Y > 0)
y = 0

[State 3100, GoUpAnim]
type = ChangeAnim
trigger1 = (Anim != 3103 && command = "holdup") || (Anim != 3103 && var(39) = 1 && p2bodydist Y < 35)
value = 3103

[State 3100, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.14

[State 3100,GoBack2]
type = VelSet
trigger1 = command = "holdback" && Vel X > 0
x = 0

[State 3100, GoBackAnim]
type = ChangeAnim
trigger1 = Anim != 3102 && command = "holdback"
value = 3102

[State 3100, GoFwd1]
type = VelAdd
trigger1 = (command = "holdfwd") || (var(39) = 1 && p2bodydist X > 45)
x = 0.1

[State 3100,GoFwd2]
type = VelSet
trigger1 = (command = "holdfwd" && Vel X < 0) || (var(39) = 1 && p2bodydist X > 45 && Vel X < 0)
x = 0

[State 3100, GoFwdAnim]
type = ChangeAnim
trigger1 = (Anim != 3101 && command = "holdfwd") || (Anim != 3101 && var(39) = 1 && p2bodydist X > 45)
value = 3101

[State 3100,Turn]
type = Turn
trigger1 = P2dist X < 0

[State 3100,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 3100,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 3105
ctrl = 1

[State 2000,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 3105

;---------------------------------------------------------------------------
;-=What is this?=-
[Statedef 3105]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 3105

[State 3105, PlaySND]
type = PlaySnd
trigger1 = time = 1
value = 3000, 0

[State 3105, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 3105, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 1
value = 3106

;---------------------------------------------------------------------------
;-=Stop asking questions!=-
[Statedef 3106]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 3106, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 3106, Anim]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3106

[State 3106, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3106, 3]
type = ChangeState
trigger1 = animtime = 1
value = 50
ctrl = 1
;===========================================================================
;Helpers
;===========================================================================
;---------------------------------------------------------------------------
;Ki Shield Start: Used in State 1600
[StateDef 10100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 10100
ctrl = 0
sprpriority = 4

[State 10100, VarSet]
type = VarSet
trigger1 = time = 1
fv = 17
value = 200

[State 10100, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 10100, Next]
type = Changestate
trigger1 = time = 6
value = 10101
;---------------------------------------------------------------------------
;Ki Shield : Used in State 1600
[StateDef 10101]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 10101
ctrl = 0
sprpriority = 4

[State 10101, Spark]
type = Explod
triggerall = Fvar(17) < 199 && NumExplod(10110) = 0
trigger1 = movecontact
Anim = 10110
Pos = 0, -15
Id = 10110
sprpriority = 5
removeongethit = 0
removetime = 6
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1, 1

[State 10101, VarSet]
type = VarAdd
trigger1 = time = 0
fv = 17
value = -10

[State 10101, VarSet]
type = VarAdd
trigger1 = movecontact
fv = 17
value = -10

[State 10101, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 10101, HitDef]
type = HitDef
trigger1 = time >= 0
attr = S, SA
animtype  = Hard
Damage = floor(0.025*FVar(17)),0
guardflag = MA
pausetime = 1,0
sparkno = -1
sparkxy = 0,0
numhits = 0
hitsound   = -1
guardsound = -1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -12, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -12, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 1600, PlaySND]
type = PlaySnd
trigger1 = movehit
value = 1610, 0
channel = 1
lowpriority = 1
persistant = 0

[State 1600, PlaySND]
type = PlaySnd
triggerall = movehit
trigger1 = random <= 50
value = 1611, 0
persistant = 0

[State 10101, Next]
type = Changestate
trigger1 = (Movecontact || time >= 1) && FVar(17) > 0
value = 10101

[State 10101, Next]
type = Changestate
trigger1 = FVar(17) <= 0
value = 10102

[State 10101, GetHit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 10101
;---------------------------------------------------------------------------
;Ki Shield End: Used in State 1600
[StateDef 10102]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 10102
ctrl = 0
sprpriority = 4

[State 10102, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 10102, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Ki Blast : Used in State 1801
[StateDef 12100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12100
ctrl = 0
sprpriority = 4

[State 12100, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 12100, VelSet.FWD]
type = VelSet
triggerall = Parent, Var(13) = 0
trigger1 = 1
x = 13
y = 0.0

[State 12100, VelSet.UP]
type = VelSet
triggerall = Parent, Var(13) = 1
trigger1 = 1
x = 12
y = -1.9

[State 12100, VelSet.DWN]
type = VelSet
triggerall = Parent, Var(13) = 2
trigger1 = 1
x = 12
y = 1.9

[State 12100, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12100, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12100, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 165,35
guardflag = MA
pausetime = 3,3
sparkno = -1
sparkxy = -5,0
hitsound   = S1100,2
guardsound = S1100,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -35, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -35, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12100, ElecA]
type = Explod
trigger1 = time = 0
Anim = 10021
Pos = -15,-30
Id = 10021
velocity = 3,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.75, 0.75

[State 12100, ElecB]
type = Explod
trigger1 = time = 14
Anim = 10021
Pos = -35,22
Id = 10021
velocity = 3,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.75, 0.75

[State 12100, ElecC]
type = Explod
trigger1 = time = 1
Anim = 10021
Pos = -50,-5
Id = 10021
velocity = 4,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.75, 0.75

[State 12100, ElecD]
type = Explod
trigger1 = time = 8
Anim = 10020
Pos = -5,26
Id = 10020
velocity = 13,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.75, 0.75

[State 12100, ElecE]
type = Explod
trigger1 = time = 20
Anim = 10021
Pos = -15,-20
Id = 10021
velocity = 3,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.75, 0.75

[State 12100, Smoke.Helper]
type = null;Helper
trigger1 = movecontact
name = "Smoke"
stateno = 15300
postype = p2
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 15300

[State 12100, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12100, Next]
type = Changestate
trigger1 = Movecontact
value = 12101

[State 12101, DestroySelf]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;Ki Blast Explosion: Used in State 1801
[StateDef 12101]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 13100
ctrl = 0
sprpriority = 4

[State 12101, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Laser : Used in State 1100
[StateDef 12210]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12210
ctrl = 0
sprpriority = 3
juggle = 5

[State 12100, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 3
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 12210, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 12210, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12210, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12210, Penetration]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 65,15
guardflag = MA
pausetime = 5,15
sparkno = S12220
sparkxy = -25,0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -11, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -11, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12210, Next]
type = null;Changestate
trigger1 = Movecontact
value = 12220

[State 12210, DestroySelf]
type = DestroySelf
trigger1 = time = 24
;---------------------------------------------------------------------------
;Laser Hit : Used in State 1100
[StateDef 12220]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12220
ctrl = 0
sprpriority = 3

[State 12220, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 12220, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12220, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12220, DestroySelf]
type = DestroySelf
trigger1 = time = 16
;---------------------------------------------------------------------------
;Tri-Laser-Mid/Image : Used in State 1130
[StateDef 12230]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12230
ctrl = 0
sprpriority = 3
juggle = 5

[State 12230, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 12230, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12230, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12230, Penetration]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 35,8
guardflag = MA
pausetime = 5,15
sparkno = S12220
sparkxy = -25,0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -11, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -11, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12230, Next]
type = null;Changestate
trigger1 = Movecontact
value = 12220

[State 12230, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Tri-Laser-Top : Used in State 1130
[StateDef 12231]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12231
ctrl = 0
sprpriority = 3
juggle = 5

[State 12231, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 12231, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12231, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12231, Penetration]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
Damage = 35,8
guardflag = MA
pausetime = 5,15
sparkno = S12220
sparkxy = -25,-18
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -11, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -11, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12231, Next]
type = null;Changestate
trigger1 = Movecontact
value = 12220

[State 12231, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Tri-Laser-Bottom : Used in State 1130
[StateDef 12232]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12232
ctrl = 0
sprpriority = 3
juggle = 5

[State 12232, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 12232, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12232, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12232, Penetration]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 35,8
guardflag = MA
pausetime = 5,15
sparkno = S12220
sparkxy = -25,18
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -11, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -11, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12232, Next]
type = null;Changestate
trigger1 = Movecontact
value = 12220

[State 12232, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Ki Beam : Used in State 1901
[StateDef 12400]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12400
ctrl = 0
sprpriority = 4

[State 12400, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12400, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12400, Explosion]
type = HitDef
trigger1 = time >= 0
attr = S, HP
animtype  = Hard
Damage = 15,4
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12400, ElecA1]
type = Explod
trigger1 = time = 0
Anim = 10021
Pos = 25,-25
Id = 10021
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 12400, ElecA2]
type = Explod
trigger1 = time = 3
Anim = 10021
Pos = 225,-20
Id = 10021
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 12400, ElecA3]
type = Explod
trigger1 = time = 6
Anim = 10021
Pos = 425,-10
Id = 10021
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 12400, ElecB1]
type = Explod
trigger1 = time = 0
Anim = 10021
Pos = 145,30
Id = 10021
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 12400, ElecB2]
type = Explod
trigger1 = time = 0
Anim = 10021
Pos = 345,30
Id = 10021
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 12400, ElecB3]
type = Explod
trigger1 = time = 0
Anim = 10021
Pos = 545,30
Id = 10021
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 12400, ElecC1]
type = Explod
trigger1 = time = 0
Anim = 10022
Pos = 95,-20
Id = 10022
velocity = 0,0
sprpriority = 5
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 12400, ElecC2]
type = Explod
trigger1 = time = 4
Anim = 10022
Pos = 295,-20
Id = 10022
velocity = 0,0
sprpriority = 5
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 12400, ElecC3]
type = Explod
trigger1 = time = 10
Anim = 10022
Pos = 495,-20
Id = 10022
velocity = 0,0
sprpriority = 5
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 12400, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(12101) = 0
value = 1100,2

[State 12400, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(12101) = 0
value = 1100,1

[State 12400, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(12101) = 0
name = "Explosion"
stateno = 12101
postype = p2
pos = 0, -60
keyctrl = 0
ownpal = 1
id = 12101

[State 12400, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12400, DestroySelf]
type = DestroySelf
trigger1 = time = 22
;---------------------------------------------------------------------------
;P2 Smoke/Explosions
[StateDef 15300]
type = A
physics = N
movetype = A
velset = 0, 0
anim = -1
ctrl = 0
sprpriority = 4

[State 15300, Smoke1]
type = Explod
trigger1 = time = 8
Anim = 15300
Pos = 0,-25
Id = 15300
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, Smoke2]
type = Explod
trigger1 = time = 15
Anim = 15300
Pos = 20,-15
Id = 15301
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, Smoke3]
type = Explod
trigger1 = time = 23
Anim = 15300
Pos = -10,-5
Id = 15302
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.7, 0.7

[State 15300, Smoke4]
type = Explod
trigger1 = time = 31
Anim = 15300
Pos = 10,-25
Id = 15303
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, DestroySelf]
type = DestroySelf
trigger1 = p2stateno = 5120
;---------------------------------------------------------------------------
;Rock Helper 00
[StateDef 15200]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15200, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 1701
y = -2

[State 15200, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 1701
y = -0.08

[State 15200, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15200, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 01
[StateDef 15201]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15201, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 1701
y = -3

[State 15201, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 1701
y = -0.08

[State 15201, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15201, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 02
[StateDef 15202]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15202, VelSet]
type = VelSet
triggerall = time = 0
trigger1 =  parent, stateno = 1701
y = -4

[State 15202, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -4
trigger1 = parent, stateno = 1701
y = -0.08

[State 15202, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15202, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper Die
[StateDef 15255]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15255
ctrl = 0
sprpriority = 4

[State 15202, PlaySND]
type = PlaySnd
trigger1 = time= 0
value = 1720,0
volume = 245

[State 15255, DestroySelf]
type = DestroySelf
trigger1 = time = 4
;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl! FlowaGirl receives all the credit for this code.

[Statedef 9998]
type = S
movetype = I
physics = N
anim = 9999

[State 9998: Pause]
type = Pause
trigger1 = !Time
time = 12
movetime = 12

[State 9998: EnvColor]
type = EnvColor
trigger1 = Time < 12
value = Time*4, Time*4, Time*4
time = 1
under = 1

[State 9998: EnvShake]
type = EnvShake
trigger1 = !Time
time = 12
freq = 120
ampl = -3
phase = 90

[State 9998: AllPalFX]
type = AllPalFX
trigger1 = Time < 50
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = Time*5
;===========================================================================
;Player 2 Custom States
;===========================================================================
; Wall Bounce : Used in State 1300
; Part 1 : P2 Fly Back
[Statedef 95000]
type    = A
movetype= H
physics = N
velset = 0,0

[State 95000, P2Anim]
type = ChangeAnim2
trigger1 = Time >= 0
value = 95000

[State 95000, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 95001

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 2 : P2 Hit Wall
[Statedef 95001]
type    = A
movetype= H
physics = N

[State 95001, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 95001, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 95001, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 95001, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 95002

[State 95001, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 3 : P2 Pre-Fall from Wall
[Statedef 95002]
type    = A
movetype= H
physics = N

[State 95002, P2Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 95002

[State 95002, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 95002, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 95002, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = -24, -50
postype = p1
sprpriority = 3

[State 95002, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 95002, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 95003
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 4 : P2 Falling from Wall
[Statedef 95003]
type    = A
movetype= H
physics = N

[State 95003, P2Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 95003

[State 95003, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.6
y = -4

[State 95003, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 95004

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 5 : P2 Fall into Ground
[Statedef 95004]
type    = A
movetype= H
physics = N

[State 95004, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.6
y = -4

[State 95004, VelAdd]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, HitGround]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[StateDef -2]
;---------------------------------------------------------------------------
;Character, Creator Display
[State -2, DisplayToClipboard]
type = DisplayToClipboard
triggerall = Var(1) = 0
trigger1 = 1
text = "Bojack 1.01 by Chrono_Strife and DreamWeaver"
;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl
[State -2, Helper]
type = Helper
trigger1 = (WinKO) && (NumHelper(9998) = 0)
helpertype = Normal
name = "WinKO"
id = 9998
pos = 0,0
postype = p1
facing = 0
stateno = 9998
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1
;---------------------------------------------------------------------------
; Flight Detection Variable Reset
[State -2, FlightDetectionReset]
type = VarSet
trigger1 = stateno != [200, 399]
v = 21
value = 0
;---------------------------------------------------------------------------
; Chrono_Strife Hotness Detection
[State -2, How Hot is Chrono_Strife?]
type = null;SVarSet                  ;Nulled SVarSet, MUGEN can't handle my sexiness.
trigger1 = 1                         ;Always Triggered
sv = 69                              ;SexVariable(69)
value = 100                          ;100% Sexiness
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]
;---------------------------------------------------------------------------
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 52 ;Jump land
value = 40, 1
;---------------------------------------------------------------------------
;Damage Dampener
[State -3, VarSet]
type = VarSet
triggerall = p2movetype != H
trigger1 = time > 3
v = 29
value = 0

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = Var(29) = 0
value = 1

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = Var(29) > 0 && Var(29) <= 10
value = 1-(Var(29)*0.075)

[State -3, VarAdd]
type = VarAdd
trigger1 = (stateno = [200,799]) && movehit
v = 29
value = 1
;---------------------------------------------------------------------------
;Artificial Intelligence
;---------------------------------------------------------------------------
[State -3, AI.Fly]
type = null;ChangeState
triggerall = (var(39) = 1) && Pos Y >= 0 && MoveType != H && ctrl = 1 && p2life > 0 && stateno != [3000,3106]
trigger1 = p2StateType = S && p2MoveType != H && p2BodyDist Y < -99
value = 3000

[State -3, AI.Land]
type = ChangeState
triggerall = (var(39) = 1) && MoveType != H && stateno = 3100
trigger1 = (p2StateType = S && p2stateno = 0) || (p2MoveType = H && p2BodyDist Y > 40)
value = 3105
;---------------------------------------------------------------------------
;Weak Punch Attack
[State -3, AI.WP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0  && p2bodydist x < 20 && (p2stateno != [5100,5120])
trigger1 = (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 400, 200, 0)
;Weak Punch Chain
[State -3, AI.WPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 200 && (movecontact)
value = IfElse(Random >= 600, 230, 210)

;Strong Punch Attack
[State -3, AI.SP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0  && p2bodydist x < 20 && (p2stateno != [5100,5120])
trigger1 = (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 200, 210, 240)
;Strong Punch Chain
[State -3, AI.SPC1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 210  && (movecontact)
value = IfElse(Random >= 200, 220, 240)
[State -3, AI.SPC2]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 220  && (movecontact)
value = IfElse(Random >= 200, 225, 250)
;Laser Chain
[State -3, AI.SPLC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 250 && (movehit) && random >= 900
value = IfElse(Random >= 500, 1000, 1100)
[State -3, AI.SPC3]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 225  && (movehit) && random >= 500
value = 310

[State -3, AI.PHC1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 220  && (movecontact) && random >= 800 && power >= 1000 && (p2stateno != [5100,5120])
value = IfElse(Random >= 500, 1805, 1905)
[State -3, AI.PHC2]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 225  && (movecontact) && random >= 600 && power >= 1000 && (p2stateno != [5100,5120])
value = IfElse(Random >= 500, 1805, 1905)


;Weak Kick Attack
[State -3, AI.WK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0  && p2bodydist x < 15 && (p2stateno != [5100,5120])
trigger1 = (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 300, 230, 0)
;Weak Kick 2 Chain
[State -3, AI.WKC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 230 && (movecontact)
value = IfElse(Random >= 500, 210, 240)

;Strong Kick Attack
[State -3, AI.SK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && p2bodydist x < 30 && (p2stateno != [5100,5120])
trigger1 = (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 300, 240, 0)
;Strong Kick Chain
[State -3, AI.SKC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 240 && (movecontact) && random >= 300
value = 250
;Laser Chain
[State -3, AI.SKLC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 250 && (movehit) && random >= 850
value = 1100
;Super Jump Chain
[State -3, AI.SKSJ]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 250 && (movehit) && random >= 750
value = 41
;Zanzoken Reverse-Kick Chain
[State -3, AI.SKTC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 250 && (movehit) && random >= 100
value = 300

[State -3, AI.KHC1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 240  && (movecontact) && random >= 800 && power >= 1000
value = IfElse(Random >= 500, 1805, 1905)
[State -3, AI.KHC2]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 250  && (movecontact) && random >= 600  && power >= 1000
value = IfElse(Random >= 500, 1805, 1905)
;---------------------------------------------------------------------------
;Weak Crouch Punch Attack
[State -3, AI.WCP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C && ctrl = 1 && p2life > 0  && p2bodydist x < 20
trigger1 = stateno = 11 && random >= 400
value = 400
;Weak Punch Chain
[State -3, AI.WCPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C
trigger1 = stateno = 400 && (movecontact)
value = IfElse(Random >= 600, 410, 430)

;Strong Crouch Punch Attack
[State -3, AI.SCP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C && ctrl = 1 && p2life > 0  && p2bodydist x < 20
trigger1 = stateno = 11 && random >= 600
value = 410
;Strong Punch Chain
[State -3, AI.SCPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C
trigger1 = stateno = 410 && (movecontact) && random >= 400
value = 430


;Weak Crouch Kick Attack
[State -3, AI.WCP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C && ctrl = 1 && p2life > 0  && p2bodydist x < 25
trigger1 = stateno = 11 && random >= 400
value = 430
;Weak Kick Chain
[State -3, AI.WCPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C
trigger1 = stateno = 430 && (movecontact)
value = IfElse(Random >= 300, 440, 410)

;Strong Crouch Kick Attack
[State -3, AI.SCP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C && ctrl = 1 && p2life > 0  && p2bodydist x < 30
trigger1 = stateno = 11 && random >= 600
value = 440
;Strong Kick Chain
[State -3, AI.SCPC1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C
trigger1 = stateno = 440 && (movecontact) && random >= 400
value = 450
;Strong Kick Chain
[State -3, AI.SCPC2]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = C
trigger1 = stateno = 450 && (movecontact) && random >= 200
value = 500
;---------------------------------------------------------------------------
;Weak Jump Punch Attack
[State -3, AI.WJP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && p2bodydist x < 25 && (p2stateno != [5100,5120])
trigger1 = (stateno = 50 || stateno = 51) && random >= 400
value = 600
[State -3, AI.WJPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && (p2stateno != [5100,5120])
trigger1 = stateno = 600 && (movecontact)
value = IfElse(Random >= 500, 610, 630)

;Strong Jump Punch Attack
[State -3, AI.SJP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && p2bodydist x < 25 && (p2stateno != [5100,5120])
trigger1 = (stateno = 50 || stateno = 51) && random >= 700
value = 610
[State -3, AI.SJPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && (p2stateno != [5100,5120])
trigger1 = stateno = 610 && (movecontact) && random >= 500
value = 640

;Weak Jump Kick Attack
[State -3, AI.WJK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && p2bodydist x < 35 && (p2stateno != [5100,5120])
trigger1 = (stateno = 50 || stateno = 51) && random >= 500
value = 630
[State -3, AI.WJKC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && (p2stateno != [5100,5120])
trigger1 = stateno = 630 && (movecontact)
value = IfElse(Random >= 500, 610, 640)

;Strong Jump Kick Attack
[State -3, AI.SJK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && p2bodydist x < 35 && (p2stateno != [5100,5120])
trigger1 = (stateno = 50 || stateno = 51) && random >= 800
value = 640
;---------------------------------------------------------------------------
;Rush Attack
[State -3, AI.RA]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && p2bodydist x < 30  && (p2stateno != [5100,5120])
trigger1 = stateno = 100 && random >= 600
value = 1300
[State -3, AI.RAHC1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && (p2stateno != [5100,5120])
trigger1 = stateno = 220  && (movecontact) && random >= 600 && power >= 1000
value = IfElse(Random >= 500, 1805, 1905)

;Dash Fwd
[State -3, AI.DashFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2stateno != [5100,5120])
trigger1 = stateno = 0 && p2bodydist x > 50 && random >= 600
value = 100

;Air Dash Fwd
[State -3, AI.AirDashFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && (p2stateno != [5100,5120])
trigger1 = stateno = 41 && p2bodydist x > 50 && random >= 600
value = 102

;Weak Fireball
[State -3, AI.Fireball]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (prevstateno != [1000, 1100]) && (p2stateno != [5100,5110])
trigger1 = (stateno = 0 || stateno = 3100) && p2bodydist x > 140 && random >= 600 && power >= 250
value = 1000

;Weak Laser Beam
[State -3, AI.Laser]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != 1100 && p2stateno = 40 && (p2stateno != [5100,5120])
trigger1 = (stateno = 0 || stateno = 3100) && p2bodydist x > 70 && random >= 400 && power >= 250
value = 1100

;Jump Fwd
[State -3, AI.JumpFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2stateno != [5100,5120])
trigger1 = stateno = 0 && p2bodydist x < 70 && p2bodydist x >= 30 && random >= 600
value = IfElse(Random >= 600, 40, 0)

;Super Jump Fwd
[State -3, AI.JumpFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2stateno != [5100,5120])
trigger1 = stateno = 0 && p2bodydist x > 70 && random >= 600
value = IfElse(Random >= 300, 41, 0)

;Ki Shield
[State -3, AI.Shield]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0  && p2bodydist x < 35 && power >= 500 && (p2stateno != [5100,5120]) && prevstateno != 1600
trigger1 = (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 800, 1600, 0)

;Counter Ki Shield
[State -3, AI.CounterShield]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && p2life > 0 && power >= 500 && prevstateno != 1605
trigger1 = p2dist x < 45 && (stateno = [150, 156]) && random >= 925
value = 1605

;Something
[State -3, AI.Something]
type = null;ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 
trigger1 = stateno = 0 && (p2bodydist x > 25 || p2bodydist x > 70)
value = IfElse(Random >= 50, 20, 105)
;----------------------------------------------------------------------------
;Hyper Ki Blast
[State -3, AI.HKBt1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2stateno != [5100,5110])
trigger1 = stateno = 0 && power >= 1000 && p2bodydist x > 140 && random >= 800
value = IfElse(Random >= 300, 1800, 0)
;Hyper Ki Blast
[State -3, AI.HKBt2]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2stateno != [5100,5110])
trigger1 = stateno = 0 && power >= 3000 && p2bodydist x > 140 && random >= 600
value = 1800


;Hyper Ki Beam
[State -3, AI.HKBm1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2stateno != [5100,5110])
trigger1 = stateno = 0 && power >= 1000 && p2bodydist x > 140 && random >= 800
value = 1900
;Hyper Ki Beam
[State -3, AI.HKBm2]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2stateno != [5100,5110])
trigger1 = stateno = 0 && power >= 3000 && p2bodydist x > 140 && random >= 600
value = 1900

;------------------------------------------------------------------------------
[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = S && ctrl = 1
trigger1 = (stateno = 100 || stateno = 52) && p2movetype = A
value = 130

[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = C && ctrl = 1
trigger1 = (stateno = 140 || stateno = 150 || stateno = 151) && p2movetype = A
value = 131

[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = A && ctrl = 1
trigger1 = p2movetype = A
value = 132
